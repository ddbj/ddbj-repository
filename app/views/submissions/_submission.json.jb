# locals: (submission:, validation: false)

{
  **submission.slice(
    :id,
    :created_at,
    :started_at,
    :finished_at,
    :progress,
    :result,
    :error_message,
    :visibility
  ),

  db:         submission.validation.db,
  url:        submission_url(submission),
  accessions: render(partial: 'accessions/accession', collection: submission.accessions),

  **submission.param&.as_json,
  **(validation ? {validation: render(submission.validation)} : nil)
}
